<?xml version="1.0" encoding="UTF-8"?>
<div id="issueBody" xmlns:py="http://genshi.edgewall.org/">
    <py:def  xmlns:py="http://genshi.edgewall.org/"  function="opsomming(names)" class="opsomming" py:choose="">
        <py:when test="len(names) == 1">${names}</py:when>
        <py:when test="len(names) == 2">${names[0]} en ${names[1]}</py:when>
        <py:otherwise test="">${', '.join(names[0:-1])} en ${names[-1]}</py:otherwise>
  </py:def>

<py:def function="bookReview(books)">
     <div class="bookInfo" py:for="b in books">
        <span py:content="b.title" />
        <span py:if="b.creators">Door ${opsomming(b.creators)}</span>
    </div>
</py:def>
    
    <div class="issueInfo">
        <div py:content="c.issue.periodical.title" />
        <py:choose test="">
            <div py:when="c.issue.volume and c.issue.number">Volume ${c.issue.volume}, nummer ${c.issue.number}</div>
            <div py:when="c.issue.volume and not c.issue.number">Volume ${c.issue.volume}</div>
            <div py:when="not c.issue.volume and c.issue.number">Nummer ${c.issue.number}</div>
        <!--!div py:if="issue.volume">volume ${issue.volume}</div><div py:if="issue.number">nummer ${issue.number}</div-->
        </py:choose>
        <div py:if="c.issue.pubdate">Verschenen ${c.issue.pubdate}</div>
    </div>

    
    <div class="articleInfo" py:for="a in c.articles">
        <div class="articleTitle" py:content="a.title" />
        <div py:if="a.creators">Door ${opsomming(a.creators)}</div>
        <div py:if="a.ives">Interview met ${opsomming(a.ives)}<py:if test="a.ivrs"> door ${opsomming(a.ivrs)}</py:if>.</div>
        <div py:if="a.sPg and a.ePg">Pagina's ${a.sPg}--${a.ePg}(${a.ePg-a.sPg})</div>
        <div py:if="a.abstract" py:content="a.abstract[0:40]" />
        <!--!py:if test="a.reviewOf">${bookReview(a.reviewOf)}</py:if-->
    </div>
</div>
